<div class="emptyStateContainer" aria-live="polite">
  <perfect-scrollbar class="dashboard-perfect-scroll">
  <div class="scrollContainer">
    <div *ngIf="!(apps && apps.length)">
      <div class="empty-state-wrap">
        <div aria-hidden="true" class="col-6 empty-image">
          <img src="assets/images/noBotsPlaceholder.svg">
        </div>
        <div class="col-4 empty-message" >
          <p class="title" role="banner">{{'Hi'| translate}}{{this.authInfo.currentAccount.userInfo.fName}} {{this.authInfo.currentAccount.userInfo.lName}}</p>
          <p class="welcomenote" role="doc-acknowledgments">{{'WelcometoFindly' | translate}}</p>
        </div>
      </div>
      <div class="empty-description">
        <p>Few steps away from launching your first SearchAssist.ai app</p>
        <div class="btnContainer">
          <button [disabled]="saveInProgress" (click)="openCreateApp()" class="kr-sg-button-primary btn_md"><i *ngIf="saveInProgress" class="fa fa-spinner fa-spin"></i>{{saveInProgress? 'Creating App' :'Get Started'}}</button>
          <button class="seeHowBtn d-none">See how</button>
        </div>
      </div>
    </div>
    <div class="findly-dashboard" *ngIf="apps && apps.length">
      <div class="main-heading d-none" role="doc-introduction">{{'WelcometoFindly' | translate}}</div>
      <div class="header-sec">
          <div class="row m-0 adjust-width">
            <div class="title col-4 p-0" role="contentinfo">{{'Your_Applications' | translate}}</div>
            <!-- <div class="col-8 p-0 row justify-content-end align-items-center text-right m-0 d-none">
              <div class="kr-sg-input-search" role="searchbox">                               
                <input type="text" placeholder="Search" id="serachInputBox" class="input-search" maxlength="128" [(ngModel)]="searchApp" autocomplete="off">           
                <img class="search-icon" src="assets/images/search_gray.svg">
                <img class="search-icon" src="assets/images/close.svg" class="d-none">
              </div>           
              <button class="kr-sg-button-primary btn_lg" (click)="openCreateApp()">+ Add New</button>            
              <span class="dropdown createDropDown d-none">
                <div class="dropdown-toggle" id="menu1" data-toggle="dropdown">
                  <img class="gray_arrow" src="assets/icons/caretDown.svg">
                  <img class="white_arrow" src="assets/icons/caretDownWhit.svg">
                </div>
                <ul class="dropdown-menu" role="menu" aria-labelledby="menu1">
                  <li><a>Import</a></li>
                </ul>
              </span>
              <span class="kr-sg-dropdowns import_bot_dropdown d-none" #selectSourceDrop='ngbDropdown'ngbDropdown [container]="'body'" [placement]="'bottom-right'">                                        
                <div class="dropdown dropdown-open">
                    <button class="dropdown-toggle dropdown-input" ngbDropdownToggle><img src="assets/icons/dropdown_gray.svg"></button>                                            
                    <ul class="dropdown-menu content-menu import_bot_dropdown-content" ngbDropdownMenu>
                      <li>Import</li>
                    </ul>
                </div>
              </span>
            </div>          -->
         <div class="col-8 right-sec p-0 row justify-content-end align-items-center text-right m-0">
            <div class="kr-sg-input-text m-0" role="searchbox" [ngClass]="{'active': showSearch}">                               
              <input type="text" placeholder="Search" id="serachInputBox" class="input-search" maxlength="128" [(ngModel)]="searchApp" autocomplete="off">           
            </div> 
            <div class="seach-block m-0" (click)="toggleSearch()">
                <img src="assets/icons/search.svg" *ngIf="!showSearch">
                <img src="assets/images/close.svg" *ngIf="showSearch">Search
            </div>
            <div class="add_feild" (click)="openCreateApp()">
                <img src="assets/icons/add_plus.svg">Add Application
            </div>            
        </div>
          </div>
      </div>      
      <div class="body-sec">
        <div class="row m-0 appsListingContainer">
          <div class="m-title col-12">Recently Visited</div>

          <div class="cards-content d-none" (click)="openApp(app)" *ngFor="let app of apps | filter: [ searchApp, 'name']">
            <div class="box">
              <div class="img-block">
                <img src="assets/icons/user-gray.svg">
              </div>
              <div class="content-sec">
                <div class="name"><span>{{app.name}}</span></div>
                <div class="info-text" *ngIf="app.description !==''">{{app.description}}</div>
              </div>
            </div>
          </div>
          
          <div class="cards-content" (click)="openApp(app)" *ngFor="let app of apps | filter: [ searchApp, 'name']">
            <div class="box">                
              <div class="content-sec">
                <div class="name"><span>{{app.name}}</span></div>
                <div class="info-text" *ngIf="app.description !==''">{{app.description}}</div>
              </div>
            </div>             
          </div> 
          
          
          <div class="row m-0 col-12 filters-dropdown">
              <div class="col-6 d-flex align-items-center p-0 left">                  
                <div class="kr-sg-dropdowns">                    
                  <div class="dropdown dropdown-open">
                      <span class="m-title m-0">{{app_type}} Apps</span>
                      <button class="dropdown-toggle dropdown-input border-0 w-auto" data-toggle="dropdown"><img src="assets/icons/dashboard/dropdown-apps.svg"></button>                                            
                      <ul class="dropdown-menu content-menu w-auto">                                          
                        <li *ngFor='let app of appTypes' (click)="selectedAppType(app)" [class.selected]="app == app_type"><a>{{app}} Apps</a></li>
                        <!-- <li><a class="selected">All Apps</a></li> -->
                      </ul>
                  </div>
                </div>
              </div>
              <div class="col-6 right">
                <div class="sort-by">Sort by:</div>
                <div class="kr-sg-dropdowns w-auto">                    
                  <div class="dropdown dropdown-open">                        
                      <button class="dropdown-toggle dropdown-input pl-3 pr-5" data-toggle="dropdown">Created Date</button>                                            
                      <ul class="dropdown-menu content-menu">                                          
                        <li *ngFor="let sort of sortBy" (click)="sortApp(sort)"><a [class.selected]="sort==sort_type">{{sort}}</a></li>
                      </ul>
                  </div>
                </div>
                <div class="filter-up-down" (click)="sortApp('Icon filter')"><img src="assets/icons/dashboard/filter.svg"></div>
              </div>                   
          </div>
          
          <div class="cards-content" *ngFor="let filter of filteredApps" (click)="openApp(filter)">
            <div class="box">                
              <div class="content-sec">
                <div class="name"><span>{{filter.name}}</span></div>
                <div class="info-text" *ngIf="filter.description !==''">{{filter.description}}</div>
              </div>
              <div class="flag"><img src="assets/icons/dashboard/publish.svg"></div>
            </div>             
          </div>
          <!-- <div class="cards-content">
            <div class="box">                
              <div class="content-sec">
                <div class="name"><span>My Smart Assistant</span></div>
                <div class="info-text">HR tasks</div>
              </div>
              <div class="user-name">Abhilasha Tripathi</div>
            </div>             
          </div> -->
          <div class="empty">No apps found that matches with {{searchApp}}</div>
        </div>
      </div>
    </div>
  </div>
</perfect-scrollbar>
</div>

<kr-modal modalType="default" #createAppPop>
  <div class="modal-header">
        <h4 class="modal-title">Create App</h4>
      </div>
      <div class="modal-body textAlignLeft">
        <div class="kr-sg-input-text mb-3">
          <div class="label-text">Name</div>
          <input maxlength="128" type="text" autocomplete="off" placeholder="App name" class="input-text" [(ngModel)]="newApp.name" name="appName">
        </div>
        <div class="kr-sg-input-text-area mb-2">
          <div class="label-text">Description</div>
          <textarea maxlength="512" placeholder="App description " autocomplete="off" class="input-text" [(ngModel)]="newApp.description" name="appDesc"></textarea>
        </div>
        <div class="kr-sg-dropdowns w-100 mt-1">
          <div class="label-text">Language</div>
          <div class="dropdown dropdown-open">
              <button class="dropdown-toggle dropdown-input" data-toggle="dropdown" disabled>English</button>                                            
              <ul class="dropdown-menu content-menu">
              <li class="search-box">
                  <input maxlength="128" type="text" placeholder="Search" class="seach-input">
              </li>                                                
                <li><a>English</a></li>
                <li><a>German</a></li>
                <li><a>French</a></li>
              </ul>
           </div>
      </div>
      </div>
      <div class="modal-footer" [ngClass]="{'disabled': creatingInProgress}">
         <button type="button" class="btn kr-btn-cancel" data-dismiss="modal" (click)="closeCreateApp()">Close</button>
         <button [disabled]="!newApp.name"  type="button" class="kr-sg-button-primary btn_lg"  data-dismiss="modal" (click)='createFindlyApp()'>{{creatingInProgress?'Creating...':'Proceed'}}</button>
     
        </div>


</kr-modal>

