<div class="traits-container row">
    <perfect-scrollbar class="perfect-scroll">
        <!-- NO DATA FOUND -->
        <div *ngIf="emptyData" class="noTraits">
            <img src="assets/images/empty-illustration.png">
            <div class='noTraitsInfo'><span class='infoHeader'> {{'No traits created yet!'}}</span>
                <p class='infoP'> {{'Looks like there are no traits created yet Create and manage bot traits'}}<br>
                    {{'Create and manage bot traits'}}
                </p>
                <button class='kr-sg-button-primary' (click)='openStatusModal()'>{{'Create New'}}</button>
            </div>
            <div class="emptyNote">
                <p class="emptyTitle"> {{'What are Traits?'}}</p>
                <p class="emptyDesc">
                    {{'Traits are entities or attributes that can be extracted from user input, before intent recognition. You can train the bot to identify traits specific to your business domain and use them for intent and entity detection.'}}
                </p>
                <p class="emptyTitle">{{'How to create Traits?'}}</p>
                <p class="emptyDesc marginBottom10">
                    {{'Identify all possible traits that your users are like to express in their conversations, group traits that are mutually exclusive and provide adequate training.'}}
                </p>
                <ul class="emptyListDesc">
                    <li>{{'Traits can be identified based on keywords/phrases and their synonyms. Examples:'}}
                        <ul class="emptyListDesc">
                            <li> {{"Trait-Color: Blue – 'Blue', 'Sapphire', 'Teal' , Trait-Color-Red – Red, Maroon, Crimson."}}
                            </li>
                            <li> {{"Trait-Status: NotWorking: 'doesn’t work', 'switched off', Trait-Status:Working: 'working', 'turned on'"}}
                            </li>
                        </ul>
                    </li>
                    <li> {{"Traits can also be inferred from a keyword or specific phrase in the sentence. There may not be any obvious association between certain words in the sentence and the value of the trait, but rather the sentence as a whole is needed to determine the value. Example:"}}
                        <ul class="emptyListDesc">
                            <li> {{"Trait-Greeting-Emotion: Positive – 'Good Morning', 'How are you'"}}</li>
                        </ul>
                    </li>

                </ul>
                <p class="emptyTitle"> {{'Where to use Traits'}}</p>
                <p class="emptyDesc">
                    {{'Traits can be used to define intent detection rules, path qualification criteria in Knowledge Graph, entity detection or for any defining conversation flows.'}}
                </p>
            </div>
        </div>
        <!-- TABLE CONTENT -->
        <div class="traits" *ngIf="!emptyData">
            <!-- <div class="kr-sg-inline-notification">
                <div class="bulb-icon"><img src="assets/images/24x29-bulbicon.png"></div>
                <div class="tost-text">Please click on 'Train' button to update your traits model with the latest
                    changes.
                    Your bot will identify the traits using latest changes only after the training is completed.</div>
                <button class="kr-sg-button-primary">Train</button>
            </div> -->
            <div class="defineTraitsContainer">
                <div class="col-5 leftDiv">
                    <div class="defineTitle">
                        Define traits
                    </div>
                    <div class="defineDesc">
                        Define traits and train using phrases or utterances
                    </div>
                    <a class="defineLink" >
                        Add New Trait
                    </a>
                </div>
                <div class="col-2 backArrowDiv">
                    <img src="assets/images/arrow.svg" class="ml-1">
                </div>
                <div class="col-5 rightDiv">
                    <div class="defineTitle">
                        Train intents with traits
                    </div>
                    <div class="defineDesc">
                        Configure intent identification rules using traits
                    </div>
                    <a class="defineLink" >
                        Add New Rule
                    </a>
                </div>
            </div>
            <div class="table-list-content">
 
                <div class="kr-sg-data-table" *ngIf="traitsTableData && traitsTableData.length">
                    <section class="table-content">
                        <header class="table-header">
                            <div class="col" >TRAIT TYPE<img src="assets/icons/caretDown.svg"
                                    class="ml-1 hide"></div>
                            <div class="col" >TRAITS <img src="assets/icons/caretDown.svg"
                                    class="ml-1 hide"></div>
                            <div class="col">
                                <div class="kr-sg-input-inline-search">                               
                                    <input type="text" placeholder="Search" class="input-search">
                                    <img src="assets/icons/search.svg" class="search-icon">
                                </div>
                            </div>
                        </header>
                        <perfect-scrollbar class="trailts">
                            <div class="content-body" *ngFor="let trait of traitsTableData">
                                <div class="col">{{trait.traitType || '---'}}</div>
                                <div class="col" >
                                    <span *ngFor="let type of trait.traits" class="utteranceTag">
                                        {{type.traits || '---'}}
                                    </span>
                                </div>
                                <div class="col">
                                    <!-- <span class="dropdown kr-sg-overflow-menu open toggle-icon m-0">
                                        <div class="dropdown-toggle" id="menu1" data-toggle="dropdown">
                                          <img class="action_icon" src="assets/icons/overflow.svg">
                                        </div>
                                        <ul class="dropdown-menu" role="menu" aria-labelledby="menu1">
                                          <li class="edit-btn" (click)="updateView(false, item)">Edit</li>
                                          <li class="edit-btn" (click)="export(item)">Export view</li>
                                          <li class="delete-btn text-danger" (click)="deleteView(item)">Delete</li>      
                                        </ul>
                                      </span> -->
                                </div>
                            </div>
                        </perfect-scrollbar>

                    </section>
                </div>
            </div>
        </div>

    </perfect-scrollbar>
    <!-- CREATE NEW TRAIT MODAL-->
    <kr-modal modalType="center" modalClass="addTraitModalComponent" #statusModalPop>
        <div class="modal-header">
            <div class="header-title" (click)='closeStatusModal()'><img src="assets/images/closeCross.png"
                    class="closeCross">
                Create New
            </div>
        </div>
        <perfect-scrollbar class="traits-modal-scroller">
            <div class="modal-body traits-modal-popup">

                <div class="kr-sg-input-text">
                    <div class="label-text">Trait Type</div>
                    <p class="text">Provide a name that represents group of traits. System will try to identify the
                        closest
                        trait in the group from user utterances.
                        Example - 'vehicle type', 'device type'.
                    </p>
                    <input type="text" placeholder="Enter trait type" class="input-text" [(ngModel)]="traitType">
                </div>
                <div class="kr-sg-input-text">
                    <div class="label-text">Traits</div>
                    <p class="text">Add one or more traits and provide the required training sentences. E.g. 'car',
                        'bus', 'modem', 'router'.
                    </p>
                    <input type="text" placeholder="Type & enter to add" class="input-text" #traitValue
                        (keyup.enter)="addTraits(traitValue)">
                </div>
                <div class="traits-group" *ngIf="traitsObj && traitsObj.length">
                    <ng-container *ngFor="let item of traitsObj;let index = index;">
                        <div class="traits-header">
                            <span class="icon">
                                <img src="assets/images/arrow.svg" class="ml-1">
                            </span>
                            <div class="title">
                                {{item.traits}}
                                <span class="edit-icon">
                                    <img src="assets/images/icons/edit-black.svg" class="ml-1">
                                </span>
                                <span class="delete-icon" (click)="removeTraits(index)">
                                    <img src="assets/images/trashIcon.svg" class="ml-1 ">
                                </span>
                            </div>
                        </div>
                        <div class="add-utterances">
                            <div class="sub-title">
                                Add utterances or phrases
                            </div>
                            <div class="kr-sg-input-text">
                                <input type="text" placeholder="Type & enter to add" class="input-text" #utterancesValue
                                    (keyup.enter)="addUtterances(utterancesValue, index)">
                            </div>
                            <div class="utterance-list" *ngIf="item.utterances && item.utterances.length">
                                <ng-container *ngFor="let list of item.utterances; let uIndex = index;">
                                    <div class="item">
                                        {{list}}
                                        <span class="delete-icon" (click)="removeUtterances(uIndex, index)">
                                            <img src="assets/images/trashIcon.svg" class="ml-1 ">
                                        </span>
                                    </div>
                                </ng-container>
                            </div>
                        </div>
                    </ng-container>
                </div>
            </div>
        </perfect-scrollbar>

        <div class="modal-footer">
            <button class="kr-sg-button-primary" (click)="saveTraitsData()">Save</button>
        </div>
    </kr-modal>
</div>