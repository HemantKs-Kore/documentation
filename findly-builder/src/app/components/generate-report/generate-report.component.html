<div class="ReportsDiv" *ngIf = "!showReport">
  <div class="dashboardTitle">
          Export
  </div>
  <div style="padding: 15px 0 0 50px;" class="col-md-4">
    <label id="example-radio-group-label" style="font-size: 14px;font-weight: bold;">Date Period</label>
    <button matTooltip="select dates" [ngClass]="{'selectedBtn': selectedDate === 'custom'}" (click) = "selectDateRange()" mat-button class="float-right" style="margin-right: 5px;font-size: 11px;line-height: 20px;padding: 0;"><img src="assets/images/calendarIcon.svg"></button>
    <button matTooltip="last 7 days" [ngClass]="{'selectedBtn': selectedDate === 'lastSeven'}" (click) = "last7Date()" mat-button class="dateButton float-right" style="margin-right: 5px;" >Last 7 days</button>
    <button matTooltip="today" [ngClass]="{'selectedBtn': selectedDate === 'today'}" (click) = "todayDate()" mat-button class="dateButton float-right" style="margin-right: 5px;">Today</button>        
  </div>  
  <ngbd-datepicker-range *ngIf = "showDateRange" style="float: right;margin: 0 280px 0 0;" (messageEvent)="receiveMessage($event)" ></ngbd-datepicker-range>  

  <div style="padding: 0 0 15px 50px;" class="col-md-4">
    <input class="dateField" type="text" [(ngModel)]="dateString"  matInput  [ngModelOptions]="{standalone: true}" readonly>
  </div>
  <div style="padding: 15px 0px 15px 50px;">
  <label id="example-radio-group-label" style="font-size: 14px;font-weight: bold;">Report Type</label>
  <mat-radio-group
    aria-labelledby="example-radio-group-label"
    class="example-radio-group"
    [(ngModel)]="selectType">
    <mat-radio-button class="example-radio-button" *ngFor="let type of reportTypes" [value]="type.id">
      <span class="report-Type">{{type.val}}</span>
    </mat-radio-button>
  </mat-radio-group>
  </div>
  <div style="padding: 0 0 0 50px;">
  <button matTooltip="View report" (click) = "viewReport()" mat-button class="solidBTN float-left" [ngClass]="{'disableBtn': pendingState}" >View Report</button>
  <button matTooltip="Generate report" (click) = "getReport()" mat-button class="solidBTN float-left" [ngClass]="{'disableBtn': pendingState}" style="margin-left: 10px;">Generate Report</button>
  <div class="loaderContainer" style="position: relative;" *ngIf = "pendingState">
    <div><img src="assets/images/logoIcon.png" class="innerloaderLogoImage" style="left:250px;"><span class="loadingLogo" style="left:285px;">Processing report</span></div>
  </div>
  </div>
</div>
<a href="{{downloadUrlLink}}" download target="_blank" class = "downloadReportUrl"></a>

<div class="ReportsDiv" *ngIf = "showReport">
    <div class="row" style="padding-left: 60px;">        
        <div class="backButton">
            <i (click) = "backReports()" class="fa fa-chevron-left" aria-hidden="true"></i>
        </div>
        <div class="left col-lg-6" >
            <button matTooltip="Download report" (click) = "getReport()" mat-button class="solidBTN float-left" [ngClass]="{'disableBtn': pendingState}" >Download Report</button>
            <div class="loaderContainer" style="position: relative;" *ngIf = "pendingState">
                <div><img src="assets/images/logoIcon.png" class="innerloaderLogoImage" style="left:145px;top: calc(50% - 15px);"><span class="loadingLogo" style="left:180px;top: calc(50% - 10px);">Processing report</span></div>
            </div> 
        </div>        
    </div>

    <div style="height: 95px;padding-left: 40px;" class="reportHeader row">
        <div class="col-lg-3" style="padding: 20px;">
          <div class="detailText">Report Name</div>
          <div class="detailVal">{{reportName}}</div>
        </div>
        <div class="col-lg-3" style="padding: 20px;">
          <div class="detailText">Period</div>
          <div class="detailVal">{{periodDate}}</div>
        </div>
        <div class="col-lg-3" style="padding: 20px;">
            <div class="detailText">Total Records</div>
            <div class="detailVal">{{totalRecords}}</div>
          </div>
          <div class="col-lg-3" style="padding: 20px;">
              <div class="detailText">Date of Generation</div>
              <div class="detailVal">{{generationDate}}</div>
            </div>
    </div>

    <div class="listOfReports" *ngIf = "freeBotReport">     
        <div class="table-responsive">            
                <table class="table">
                  <thead>
                    <tr>
                      <th scope="col" ><span class="tableSize col-a">BOT NAME</span></th>
                      <th scope="col" ><span class="tableSize col-a">ACCOUNT EMAIL ID</span></th>
                      <th scope="col" ><span class="tableSize col-a">REQUESTED DATE</span></th>
                    </tr>
                  </thead>
                  <div class="loaderContainer" style="position: initial;" *ngIf = "loadingAccounts">
                      <div><img src="assets/images/logoIcon.png" class="innerloaderLogoImage"><span class="loadingLogo">Loading...</span></div>
                  </div>
                  <div class="noRecords" *ngIf="noReports">No records available</div>
                  <tbody [class.waitForLoad]="loadingAccounts">
                    <tr *ngFor="let row of recordAccounts">
                      <td><span class="tableSize col-a">{{row.botName}}</span></td>
                      <td><span class="tableSize col-a">{{row.emailId}}</span></td>
                      <td><span class="tableSize col-a">{{row.requestedDate | dateFormatPipe}}</span></td>
                    </tr>
                  </tbody>
                </table>
          </div>    
    </div>
    <div class="listOfReports" *ngIf = "upgradeReport">     
        <div class="table-responsive">            
                <table class="table">
                  <thead>
                    <tr>
                      <th scope="col" ><span class="tableSize col-b">BOT NAME</span></th>
                      <th scope="col" ><span class="tableSize col-b">DEAL ID</span></th>
                      <th scope="col" ><span class="tableSize col-b">ACCOUNT EMAIL ID</span></th>
                      <th scope="col" ><span class="tableSize col-b">CURRENT PLAN</span></th>
                      <th scope="col" ><span class="tableSize col-b">NEW PLAN</span></th>
                      <th scope="col" ><span class="tableSize col-b">REQUESTED DATE</span></th>
                    </tr>
                  </thead>
                  <div class="loaderContainer" style="position: initial;" *ngIf = "loadingAccounts">
                      <div><img src="assets/images/logoIcon.png" class="innerloaderLogoImage"><span class="loadingLogo">Loading...</span></div>
                  </div>
                  <div class="noRecords" *ngIf="noReports">No records available</div>
                  <tbody [class.waitForLoad]="loadingAccounts">
                    <tr *ngFor="let row of recordAccounts">
                      <td><span class="tableSize col-b">{{row.botName}}</span></td>
                      <td><span class="tableSize col-b">{{row.dealId}}</span></td>
                      <td><span class="tableSize col-b">{{row.emailId}}</span></td>
                      <td><span class="tableSize col-b">{{row.currentPlan}}</span></td>
                      <td><span class="tableSize col-b">{{row.newPlan}}</span></td>
                      <td><span class="tableSize col-b">{{row.requestedDate | dateFormatPipe}}</span></td>
                    </tr>
                  </tbody>
                </table>
          </div>    
    </div>
    <div class="listOfReports" *ngIf = "downgradeReport">     
        <div class="table-responsive">            
                <table class="table">
                  <thead>
                    <tr>
                      <th scope="col" ><span class="tableSize col-c">BOT NAME</span></th>
                      <th scope="col" ><span class="tableSize col-c">DEAL ID</span></th>
                      <th scope="col" ><span class="tableSize col-c">ACCOUNT EMAIL ID</span></th>
                      <th scope="col" ><span class="tableSize col-c">CURRENT PLAN</span></th>
                      <th scope="col" ><span class="tableSize col-c">NEW PLAN</span></th>
                      <th scope="col" ><span class="tableSize col-c">REQUESTED DATE</span></th>
                      <th scope="col" ><span class="tableSize col-c">EFFECTIVE FROM</span></th>
                    </tr>
                  </thead>
                  <div class="loaderContainer" style="position: initial;" *ngIf = "loadingAccounts">
                      <div><img src="assets/images/logoIcon.png" class="innerloaderLogoImage"><span class="loadingLogo">Loading...</span></div>
                  </div>
                  <div class="noRecords" *ngIf="noReports">No records available</div>
                  <tbody [class.waitForLoad]="loadingAccounts">
                    <tr *ngFor="let row of recordAccounts">
                      <td><span class="tableSize col-c">{{row.botName}}</span></td>
                      <td><span class="tableSize col-c">{{row.dealId}}</span></td>
                      <td><span class="tableSize col-c">{{row.emailId}}</span></td>
                      <td><span class="tableSize col-c">{{row.currentPlan}}</span></td>
                      <td><span class="tableSize col-c">{{row.newPlan}}</span></td>
                      <td><span class="tableSize col-c">{{row.requestedDate | dateFormatPipe}}</span></td>
                      <td><span class="tableSize col-c">{{row.effectiveFrom | dateFormatPipe}}</span></td>
                    </tr>
                  </tbody>
                </table>
          </div>    
    </div>
    <div class="listOfReports" *ngIf = "cancelReport">     
        <div class="table-responsive">            
                <table class="table">
                  <thead>
                    <tr>
                      <th scope="col" ><span class="tableSize col-b">BOT NAME</span></th>
                      <th scope="col" ><span class="tableSize col-b">DEAL ID</span></th>
                      <th scope="col" ><span class="tableSize col-b">ACCOUNT EMAIL ID</span></th>
                      <th scope="col" ><span class="tableSize col-b">CURRENT PLAN</span></th>
                      <th scope="col" ><span class="tableSize col-b">REQUESTED DATE</span></th>
                      <th scope="col" ><span class="tableSize col-b">EFFECTIVE FROM</span></th>
                    </tr>
                  </thead>
                  <div class="loaderContainer" style="position: initial;" *ngIf = "loadingAccounts">
                      <div><img src="assets/images/logoIcon.png" class="innerloaderLogoImage"><span class="loadingLogo">Loading...</span></div>
                  </div>
                  <div class="noRecords" *ngIf="noReports">No records available</div>
                  <tbody [class.waitForLoad]="loadingAccounts">
                    <tr *ngFor="let row of recordAccounts">
                      <td><span class="tableSize col-b">{{row.botName}}</span></td>
                      <td><span class="tableSize col-b">{{row.dealId}}</span></td>
                      <td><span class="tableSize col-b">{{row.emailId}}</span></td>
                      <td><span class="tableSize col-b">{{row.currentPlan}}</span></td>
                      <td><span class="tableSize col-b">{{row.requestedDate | dateFormatPipe}}</span></td>
                      <td><span class="tableSize col-b">{{row.effectiveFrom | dateFormatPipe}}</span></td>
                    </tr>
                  </tbody>
                </table>
          </div>    
    </div>
    <div class="listOfReports" *ngIf = "paidReport">     
        <div class="table-responsive">            
                <table class="table">
                  <thead>
                    <tr>
                      <th scope="col" ><span class="tableSize col-b">BOT NAME</span></th>
                      <th scope="col" ><span class="tableSize col-b">DEAL ID</span></th>
                      <th scope="col" ><span class="tableSize col-b">ACCOUNT EMAIL ID</span></th>
                      <th scope="col" ><span class="tableSize col-b">PLAN</span></th>
                      <th scope="col" ><span class="tableSize col-b">REQUESTED DATE</span></th>
                    </tr>
                  </thead>
                  <div class="loaderContainer" style="position: initial;" *ngIf = "loadingAccounts">
                      <div><img src="assets/images/logoIcon.png" class="innerloaderLogoImage"><span class="loadingLogo">Loading...</span></div>
                  </div>
                  <div class="noRecords" *ngIf="noReports">No records available</div>
                  <tbody [class.waitForLoad]="loadingAccounts">
                    <tr *ngFor="let row of recordAccounts">
                      <td><span class="tableSize col-b">{{row.botName}}</span></td>
                      <td><span class="tableSize col-b">{{row.dealId}}</span></td>
                      <td><span class="tableSize col-b">{{row.emailId}}</span></td>
                      <td><span class="tableSize col-b">{{row.planName}}</span></td>
                      <td><span class="tableSize col-b">{{row.requestedDate | dateFormatPipe}}</span></td>
                    </tr>
                  </tbody>
                </table>
          </div>    
      </div>
      <div class="listOfReports" *ngIf = "onlineUserReport">     
          <div class="table-responsive">            
                  <table class="table">
                    <thead>
                      <tr>
                        <th scope="col" ><span class="tableSize col-a">ACCOUNT EMAIL ID</span></th>
                        <th scope="col" ><span class="tableSize col-a">REQUESTED DATE</span></th>
                      </tr>
                    </thead>
                    <div class="loaderContainer" style="position: initial;" *ngIf = "loadingAccounts">
                        <div><img src="assets/images/logoIcon.png" class="innerloaderLogoImage"><span class="loadingLogo">Loading...</span></div>
                    </div>
                    <div class="noRecords" *ngIf="noReports">No records available</div>
                    <tbody [class.waitForLoad]="loadingAccounts">
                      <tr *ngFor="let row of recordAccounts">
                        <td><span class="tableSize col-a">{{row.accountName}}</span></td>
                        <td><span class="tableSize col-a">{{row.createdOn | dateFormatPipe}}</span></td>
                      </tr>
                    </tbody>
                  </table>
            </div>    
      </div>


</div>
