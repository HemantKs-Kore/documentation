<div class="chat-history-in-progress" *ngIf="isInProgress">
  <div class="mat-spin-contain">
    <mat-spinner diameter="18" strokeWidth="2"></mat-spinner>
    <span class="wait-message">Loading ...</span>
  </div>
</div>


<div class="chat-history-container" *ngIf="!isInProgress">
  <div class="chat-history-header">
    <span class="back-button" (click)="closeModal()">
      <img src="assets/images/rightArrow.svg">
    </span>
    <span class="heading">	
      <h5 class="d-inline-block m-0">Chat History</h5>
    </span>
  </div>
  <div class="chat-history-section">
    <perfect-scrollbar [disabled]="workflowService.disablePerfectScroll">
      <div class="message-contain" *ngIf="chatHistData.messages.length > 0">
        <div *ngFor="let mess of chatHistData.messages">
          <div class="bot-message-contain" *ngIf="mess.type == 'outgoing'">
            <div class="user-time">{{mess.createdOn | date: 'EEE MMM dd yyyy hh:mm:ss aa'}}</div>
            <span class="bot-image">
              <img src="assets/images/bot-icon.svg">
            </span>
            <span class="bot-message"  [ngClass]="{'active': mess._id == messageId}">
              {{mess.components[0].data.text}} 
            </span>
          </div>
          <div class="user-message-contain" *ngIf="mess.type == 'incoming'">
            <div class="user-time">{{mess.createdOn | date: 'EEE MMM dd yyyy hh:mm:ss aa'}}</div>
            <span class="user-message" [ngClass]="{'active': mess._id == messageId}">
              {{mess.components[0].data.text}} 
              <div class="sub-title-contain" *ngIf="mess.type == 'incoming'">
                <span class="message">Intent: FAQ</span>
              </div>
            </span>
            <span class="user-image">
              <img src="assets/images/user-icon.svg">
            </span>
          </div>
        </div>
      </div>
      <div class="empty-message-contain"  *ngIf="chatHistData.messages.length == 0">
        <div class="empty-img">
          <img src="assets/images/empty-illustration.png">
        </div>
        <div class="empty-mess">
          NO CHAT HISTORY AVAILABLE  
        </div>
      </div>
    </perfect-scrollbar>
  </div>
  <div class="chat-history-footer">
    
  </div>
</div>