<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>koreai documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">koreai documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content class">
                   <div class="content-data">












<ol class="breadcrumb">
  <li>Classes</li>
  <li >ActionLog</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>apps/searchassist/src/app/modules/result-ranking/result-ranking.component.ts</code>
        </p>






            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#action" >action</a>
                            </li>
                            <li>
                                <a href="#actionDesc" >actionDesc</a>
                            </li>
                            <li>
                                <a href="#actionIcon" >actionIcon</a>
                            </li>
                            <li>
                                <a href="#addedResult" >addedResult</a>
                            </li>
                            <li>
                                <a href="#contentId" >contentId</a>
                            </li>
                            <li>
                                <a href="#contentType" >contentType</a>
                            </li>
                            <li>
                                <a href="#createdOn" >createdOn</a>
                            </li>
                            <li>
                                <a href="#desc" >desc</a>
                            </li>
                            <li>
                                <a href="#drop" >drop</a>
                            </li>
                            <li>
                                <a href="#icon" >icon</a>
                            </li>
                            <li>
                                <a href="#lMod" >lMod</a>
                            </li>
                            <li>
                                <a href="#selected" >selected</a>
                            </li>
                            <li>
                                <a href="#title" >title</a>
                            </li>
                            <li>
                                <a href="#value" >value</a>
                            </li>
                        </ul>
                    </td>
                </tr>






        </tbody>
    </table>
</section>


            <section>
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="action"></a>
                    <span class="name">
                        <span ><b>action</b></span>
                        <a href="#action"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="1043" class="link-to-prism">apps/searchassist/src/app/modules/result-ranking/result-ranking.component.ts:1043</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="actionDesc"></a>
                    <span class="name">
                        <span ><b>actionDesc</b></span>
                        <a href="#actionDesc"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="1045" class="link-to-prism">apps/searchassist/src/app/modules/result-ranking/result-ranking.component.ts:1045</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="actionIcon"></a>
                    <span class="name">
                        <span ><b>actionIcon</b></span>
                        <a href="#actionIcon"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="1044" class="link-to-prism">apps/searchassist/src/app/modules/result-ranking/result-ranking.component.ts:1044</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addedResult"></a>
                    <span class="name">
                        <span ><b>addedResult</b></span>
                        <a href="#addedResult"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="1047" class="link-to-prism">apps/searchassist/src/app/modules/result-ranking/result-ranking.component.ts:1047</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="contentId"></a>
                    <span class="name">
                        <span ><b>contentId</b></span>
                        <a href="#contentId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="1050" class="link-to-prism">apps/searchassist/src/app/modules/result-ranking/result-ranking.component.ts:1050</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="contentType"></a>
                    <span class="name">
                        <span ><b>contentType</b></span>
                        <a href="#contentType"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="1039" class="link-to-prism">apps/searchassist/src/app/modules/result-ranking/result-ranking.component.ts:1039</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createdOn"></a>
                    <span class="name">
                        <span ><b>createdOn</b></span>
                        <a href="#createdOn"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="1049" class="link-to-prism">apps/searchassist/src/app/modules/result-ranking/result-ranking.component.ts:1049</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="desc"></a>
                    <span class="name">
                        <span ><b>desc</b></span>
                        <a href="#desc"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="1042" class="link-to-prism">apps/searchassist/src/app/modules/result-ranking/result-ranking.component.ts:1042</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="drop"></a>
                    <span class="name">
                        <span ><b>drop</b></span>
                        <a href="#drop"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="1038" class="link-to-prism">apps/searchassist/src/app/modules/result-ranking/result-ranking.component.ts:1038</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="icon"></a>
                    <span class="name">
                        <span ><b>icon</b></span>
                        <a href="#icon"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="1040" class="link-to-prism">apps/searchassist/src/app/modules/result-ranking/result-ranking.component.ts:1040</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="lMod"></a>
                    <span class="name">
                        <span ><b>lMod</b></span>
                        <a href="#lMod"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="1048" class="link-to-prism">apps/searchassist/src/app/modules/result-ranking/result-ranking.component.ts:1048</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selected"></a>
                    <span class="name">
                        <span ><b>selected</b></span>
                        <a href="#selected"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="1037" class="link-to-prism">apps/searchassist/src/app/modules/result-ranking/result-ranking.component.ts:1037</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="title"></a>
                    <span class="name">
                        <span ><b>title</b></span>
                        <a href="#title"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="1041" class="link-to-prism">apps/searchassist/src/app/modules/result-ranking/result-ranking.component.ts:1041</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="value"></a>
                    <span class="name">
                        <span ><b>value</b></span>
                        <a href="#value"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="1046" class="link-to-prism">apps/searchassist/src/app/modules/result-ranking/result-ranking.component.ts:1046</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>







    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { EMPTY_SCREEN } from &#x27;./../../modules/empty-screen/empty-screen.constants&#x27;;
import { Component, NgZone, OnDestroy, OnInit } from &#x27;@angular/core&#x27;;
import { Moment } from &#x27;moment&#x27;;
import * as moment from &#x27;moment&#x27;;
import { ConfirmationDialogComponent } from &#x27;../../helpers/components/confirmation-dialog/confirmation-dialog.component&#x27;;
import { MatDialog } from &#x27;@angular/material/dialog&#x27;;
import { Subscription } from &#x27;rxjs&#x27;;
import { WorkflowService } from &#x27;@kore.apps/services/workflow.service&#x27;;
import { ServiceInvokerService } from &#x27;@kore.apps/services/service-invoker.service&#x27;;
import { NotificationService } from &#x27;@kore.apps/services/notification.service&#x27;;
import { AppSelectionService } from &#x27;@kore.apps/services/app.selection.service&#x27;;
import { InlineManualService } from &#x27;@kore.apps/services/inline-manual.service&#x27;;
import { SideBarService } from &#x27;@kore.apps/services/header.service&#x27;;
declare const $: any;

@Component({
  selector: &#x27;app-result-ranking&#x27;,
  templateUrl: &#x27;./result-ranking.component.html&#x27;,
  styleUrls: [&#x27;./result-ranking.component.scss&#x27;],
})
export class ResultRankingComponent implements OnInit, OnDestroy {
  emptyScreen &#x3D; EMPTY_SCREEN.RESULT_RANKING;
  actionLogData: any;
  time;
  iconIndex;
  actionIndex;
  selectedApp;
  serachIndexId;
  queryPipelineId;
  indexPipelineId;
  customizeLog: any &#x3D; [];
  selectedRecord: any &#x3D; {};
  resultLogs &#x3D; false;
  customizeList: any;
  totalRecord &#x3D; 0;
  limitpage &#x3D; 10;
  customizeListBack: any;
  loadingContent &#x3D; true;
  nextPage &#x3D; false;
  icontoggle &#x3D; false;
  faqDesc: any;
  mocData: any;
  subscription: Subscription;
  timeLogData: any;
  lastModifiedOn: any;
  resultSelected &#x3D; false;
  disableDiv &#x3D; false;
  collectedRecord &#x3D; [];
  permisionView &#x3D; false;
  showSearch &#x3D; false;
  activeClose &#x3D; false;
  searchSources &#x3D; &#x27;&#x27;;
  componentType &#x3D; &#x27;optimize&#x27;;
  searchImgSrc: any &#x3D; &#x27;assets/icons/search_gray.svg&#x27;;
  searchFocusIn &#x3D; false;
  fieldData: any;
  strucDataHeading &#x3D; &#x27;&#x27;;
  strucDataDec &#x3D; &#x27;&#x27;;
  strucDataHeadingDis &#x3D; &#x27;&#x27;;
  strucDataDecDis &#x3D; &#x27;&#x27;;
  loadImageText &#x3D; false;
  loadingContent1: boolean;
  customizedActionLogData &#x3D; [];
  constructor(
    public workflowService: WorkflowService,
    private service: ServiceInvokerService,
    public dialog: MatDialog,
    private notificationService: NotificationService,
    private appSelectionService: AppSelectionService,
    public inlineManual: InlineManualService,
    private headerService: SideBarService,
    private zone: NgZone
  ) {}
  sdk_evenBind() {
    // $(document).off(&#x27;click&#x27;, &#x27;.kore-search-container-close-icon&#x27;).on(&#x27;click&#x27;, &#x27;.kore-search-container-close-icon&#x27;, () &#x3D;&gt; {
    //   this.getcustomizeList(20, 0);
    // })
    $(document).on(&#x27;click&#x27;, &#x27;.kore-search-container-close-icon&#x27;, () &#x3D;&gt; {
      this.selectedApp &#x3D; this.workflowService.selectedApp();
      this.serachIndexId &#x3D; this.selectedApp.searchIndexes[0]._id;
      this.zone.run(() &#x3D;&gt; {
        this.loadCustomRankingList();
      });
    });
    $(document)
      .off(&#x27;click&#x27;, &#x27;.start-search-icon-div&#x27;)
      .on(&#x27;click&#x27;, &#x27;.start-search-icon-div&#x27;, () &#x3D;&gt; {
        this.selectedApp &#x3D; this.workflowService.selectedApp();
        this.serachIndexId &#x3D; this.selectedApp.searchIndexes[0]._id;
        this.loadCustomRankingList();
      });

    //Top Down
    $(document)
      .off(&#x27;click&#x27;, &#x27;.rr-tour-test-btn&#x27;)
      .on(&#x27;click&#x27;, &#x27;.rr-tour-test-btn&#x27;, () &#x3D;&gt; {
        this.selectedApp &#x3D; this.workflowService.selectedApp();
        this.serachIndexId &#x3D; this.selectedApp.searchIndexes[0]._id;
        this.loadCustomRankingList();
      });
  }
  ngOnInit(): void {
    this.sdk_evenBind();
    this.selectedApp &#x3D; this.workflowService?.selectedApp();
    this.serachIndexId &#x3D; this.selectedApp?.searchIndexes[0]?._id;
    this.loadCustomRankingList();
    this.subscription &#x3D; this.appSelectionService.queryConfigs.subscribe(
      (res) &#x3D;&gt; {
        this.loadCustomRankingList();
      }
    );
  }
  isEmptyScreenLoading(isLoading) {
    if (!isLoading) {
      this.loadingContent &#x3D; false;
      this.loadingContent1 &#x3D; true;
      this.loadImageText &#x3D; true;
      if (!this.inlineManual.checkVisibility(&#x27;RESULT_RANKING&#x27;)) {
        this.inlineManual.openHelp(&#x27;RESULT_RANKING&#x27;);
        this.inlineManual.visited(&#x27;RESULT_RANKING&#x27;);
      }
    }
  }
  loadCustomRankingList() {
    this.indexPipelineId &#x3D; this.workflowService.selectedIndexPipeline();
    if (this.indexPipelineId) {
      this.queryPipelineId &#x3D; this.workflowService.selectedQueryPipeline()
        ? this.workflowService.selectedQueryPipeline()._id
        : this.selectedApp.searchIndexes[0].queryPipelineId;
      if (this.queryPipelineId) {
        this.getFieldAutoComplete();
      }
    }
  }
  getFieldAutoComplete() {
    const query: any &#x3D; &#x27;&#x27;;
    // const quaryparms: any &#x3D; {
    //   searchIndexID: this.serachIndexId,
    //   indexPipelineId: this.indexPipelineId,
    //   query,
    // };
    // const url &#x3D; &#x27;get.getFieldAutocomplete&#x27;
    const url &#x3D; &#x27;get.presentableFields&#x27;;
    const quaryparms: any &#x3D; {
      isSelected: true,
      sortField: &#x27;fieldName&#x27;,
      orderType: &#x27;asc&#x27;, //desc,
      indexPipelineId: this.indexPipelineId,
      streamId: this.selectedApp._id,
      queryPipelineId: this.queryPipelineId,
      searchKey: &#x27;&#x27;,
    };
    this.service.invoke(url, quaryparms).subscribe(
      (res) &#x3D;&gt; {
        this.fieldData &#x3D; res.data;
        this.getSettings(&#x27;fullSearch&#x27;);
      },
      (errRes) &#x3D;&gt; {
        this.errorToaster(errRes, &#x27;Failed to get fields&#x27;);
      }
    );
  }
  multiplyAction(value) {
    const count &#x3D; value / 0.25;
    if (count &gt; 4) {
      const data &#x3D; count - 4;
      return data;
    } else {
      const data &#x3D; 4 - count;
      return data &gt;&#x3D; 0 ? data : -1 * data;
    }
  }
  showLogs() {
    this.resultLogs &#x3D; true;
  }
  paginate(event) {
    this.getcustomizeList(10, event.skip);
    //event.limit;
    //event.skip;
  }
  getSettings(interfaceType) {
    const quaryparms: any &#x3D; {
      searchIndexId: this.serachIndexId,
      interface: interfaceType,
      indexPipelineId: this.indexPipelineId,
      queryPipelineId: this.queryPipelineId,
    };
    this.service.invoke(&#x27;get.settingsByInterface&#x27;, quaryparms).subscribe(
      (res) &#x3D;&gt; {
        if (res &amp;&amp; res.groupSetting) {
          let isStructured &#x3D; &#x27;&#x27;;
          res.groupSetting.conditions.forEach((element) &#x3D;&gt; {
            if (element.fieldValue &#x3D;&#x3D; &#x27;data&#x27; &amp;&amp; element.templateId) {
              isStructured &#x3D; element.templateId;
            }
          });
          if (isStructured) {
            this.getTemplate(isStructured);
          } else {
            this.getcustomizeList(10, 0);
          }
        }
      },
      (errRes) &#x3D;&gt; {
        this.errorToaster(errRes, &#x27;Failed to fetch Setting Informations&#x27;);
        //this.selectedSettingResultsObj &#x3D; new selectedSettingResults()
      }
    );
  }
  getTemplate(templateId) {
    const quaryparms: any &#x3D; {
      searchIndexId: this.serachIndexId,
      templateId: templateId,
      indexPipelineId: this.indexPipelineId,
      queryPipelineId: this.queryPipelineId,
    };
    this.service.invoke(&#x27;get.templateById&#x27;, quaryparms).subscribe(
      (res) &#x3D;&gt; {
        const strucDataHeadingId &#x3D; res.mapping.heading;
        this.fieldData.forEach((element) &#x3D;&gt; {
          if (element._id &#x3D;&#x3D; res.mapping.heading) {
            this.strucDataHeading &#x3D; element.fieldName;
          }
        });
        const strucDataDecId &#x3D; res.mapping.description;
        this.fieldData.forEach((element) &#x3D;&gt; {
          if (element._id &#x3D;&#x3D; res.mapping.description) {
            this.strucDataDec &#x3D; element.fieldName;
          }
        });

        this.getcustomizeList(10, 0);
      },
      (errRes) &#x3D;&gt; {
        this.errorToaster(errRes, &#x27;Failed to fetch Template&#x27;);
      }
    );
  }
  errorToaster(errRes, message) {
    if (
      errRes &amp;&amp;
      errRes.error &amp;&amp;
      errRes.error.errors &amp;&amp;
      errRes.error.errors.length &amp;&amp;
      errRes.error.errors[0].msg
    ) {
      this.notificationService.notify(errRes.error.errors[0].msg, &#x27;error&#x27;);
    } else if (message) {
      this.notificationService.notify(message, &#x27;error&#x27;);
    } else {
      this.notificationService.notify(&#x27;Somthing went worng&#x27;, &#x27;error&#x27;);
    }
  }
  resetCustomization() {
    const quaryparms: any &#x3D; {
      searchIndexId: this.serachIndexId,
      queryPipelineId: this.queryPipelineId,
      indexPipelineId: this.workflowService.selectedIndexPipeline() || &#x27;&#x27;,
    };
    const ids &#x3D; [];
    this.collectedRecord.forEach((element) &#x3D;&gt; {
      ids.push(element._id);
    });
    const payload &#x3D; {
      ids: ids,
    };
    const dialogRef &#x3D; this.dialog.open(ConfirmationDialogComponent, {
      width: &#x27;530px&#x27;,
      height: &#x27;auto&#x27;,
      panelClass: &#x27;delete-popup&#x27;,
      data: {
        title: &#x27;Restore Customization&#x27;,
        text: &#x27;Are you sure you want to Reset&#x27;,
        newTitle: &#x27;Are you sure you want to Reset?&#x27;,
        body: &#x27;All the customizations done on the selected queries will be removed.&#x27;,
        buttons: [
          { key: &#x27;yes&#x27;, label: &#x27;Reset&#x27;, type: &#x27;danger&#x27;, class: &#x27;deleteBtn&#x27; },
          { key: &#x27;no&#x27;, label: &#x27;Cancel&#x27; },
        ],
        confirmationPopUp: true,
      },
    });
    dialogRef.componentInstance.onSelect.subscribe((result) &#x3D;&gt; {
      if (result &#x3D;&#x3D;&#x3D; &#x27;yes&#x27;) {
        this.service
          .invoke(&#x27;reset.bulkCustomization&#x27;, quaryparms, payload)
          .subscribe(
            (res) &#x3D;&gt; {
              this.resetSelected();
              this.selectedRecord &#x3D; {};
              this.customizeLog &#x3D; [];
              this.notificationService.notify(&#x27;Reset Successful&#x27;, &#x27;success&#x27;);
            },
            (errRes) &#x3D;&gt; {
              if (
                errRes &amp;&amp;
                errRes.error.errors &amp;&amp;
                errRes.error.errors.length &amp;&amp;
                errRes.error.errors[0] &amp;&amp;
                errRes.error.errors[0].msg
              ) {
                this.notificationService.notify(
                  errRes.error.errors[0].msg,
                  &#x27;error&#x27;
                );
              } else {
                this.notificationService.notify(&#x27;Failed&#x27;, &#x27;error&#x27;);
              }
            }
          );
        dialogRef.close();
      } else if (result &#x3D;&#x3D;&#x3D; &#x27;no&#x27;) {
        dialogRef.close();
      }
    });
  }
  lauchTest() {
    const testButtun &#x3D; document.getElementsByClassName(
      &#x27;rr-tour-test-btn&#x27;
    )[0] as HTMLBaseElement;
    testButtun.click();
    this.headerService.fromResultRank(true);
  }
  launch() {
    if (this.selectedRecord &amp;&amp; this.selectedRecord.searchQuery) {
      this.headerService.fromResultRank(false);
      // let ball &#x3D; document.getElementsByClassName(&#x27;start-search-icon-div&#x27;)[0] as HTMLBaseElement;
      // ball.click()
      const testButtun &#x3D; document.getElementsByClassName(
        &#x27;rr-tour-test-btn&#x27;
      )[0] as HTMLBaseElement;
      testButtun.click();
      // console.log(this.headerService.searchConfiguration);
      if (
        this.headerService.searchConfiguration.experienceConfig
          .searchBarPosition &#x3D;&#x3D; &#x27;top&#x27;
      ) {
        setTimeout(() &#x3D;&gt; {
          if (
            this.headerService.searchConfiguration.experienceConfig
              .searchBarPosition &#x3D;&#x3D; &#x27;top&#x27;
          ) {
            const link &#x3D; document.getElementById(&#x27;search&#x27;) as HTMLDataElement;
            link.value &#x3D; this.selectedRecord.searchQuery;
            link.focus();
            $(&#x27;#search&#x27;).addClass(&#x27;from-result-ranking&#x27;);
            link.click();
            setTimeout(() &#x3D;&gt; {
              if (
                this.headerService.searchConfiguration.experienceConfig
                  .searchBarPosition &#x3D;&#x3D; &#x27;top&#x27;
              ) {
                const containerClass &#x3D; document.getElementsByClassName(
                  &#x27;top-down-search-background-div&#x27;
                )[0] as HTMLBaseElement;
                containerClass.classList.add(&#x27;if-full-results&#x27;);
                const container &#x3D; document.getElementsByClassName(
                  &#x27;all-result-container&#x27;
                )[0] as HTMLBaseElement;
                container.style.display &#x3D; &#x27;block&#x27;;
              }
            }, 3000);
          }
        }, 3000);
      } else {
        // let testButtun &#x3D; document.getElementsByClassName(&#x27;rr-tour-test-btn&#x27;)[0] as HTMLBaseElement;
        //testButtun.click()
        setTimeout(() &#x3D;&gt; {
          // let texBox &#x3D; document.getElementsByName(&#x27;search&#x27;)[1] as HTMLDataElement;
          // texBox.value &#x3D; this.selectedRecord.searchQuery;
          const link &#x3D; document.getElementById(&#x27;search&#x27;) as HTMLDataElement;
          link.value &#x3D; this.selectedRecord.searchQuery;
          $(&#x27;#search&#x27;).addClass(&#x27;from-result-ranking&#x27;);
          link.click();
          // link.focus();
          // document.getElementsByClassName(&#x27;search-button&#x27;)[0].removeAttribute(&#x27;disabled&#x27;)
          // let go &#x3D; document.getElementsByClassName(&#x27;search-button&#x27;)[0] as HTMLBaseElement;
          // go.click();

          const box &#x3D; document.getElementById(&#x27;searchBox&#x27;) as HTMLDataElement;
          box.style.display &#x3D; &#x27;block&#x27;;
          const container &#x3D; document.getElementById(
            &#x27;searchChatContainer&#x27;
          ) as HTMLDataElement;
          container.click();
          //   texBox.value &#x3D; this.selectedRecord.searchQuery;
          // $(&#x27;#search&#x27;).keyup(function (this) {
          //   let texBox &#x3D; document.getElementsByName(&#x27;search&#x27;)[1] as HTMLDataElement;
          //   texBox.value &#x3D; this.selectedRecord.searchQuery;
          // });
          // $(&#x27;#search&#x27;).keyup(this);
          // setTimeout(() &#x3D;&gt; {
          //   if (this.headerService.searchConfiguration.experienceConfig.searchBarPosition &#x3D;&#x3D; &#x27;top&#x27;) {
          //     let customTag &#x3D; document.getElementsByClassName(&#x27;faqs-wrp-content&#x27;)[0] as HTMLBaseElement;
          //     customTag.click();
          //     let custom &#x3D; document.getElementsByClassName(&#x27;custom-header-nav-link-item&#x27;)[1] as HTMLBaseElement;
          //     custom.click();
          //     let seeAll &#x3D; document.getElementsByClassName(&#x27;show-all-results&#x27;)[0] as HTMLBaseElement;
          //     seeAll.click()
          //   }
          // }, 3000)
          //document.getElementById(&#x27;viewTypeCustomize&#x27;).click(); //viewTypeCustomize
        }, 3000);
      }
    }
  }
  resetSelected() {
    this.customizeList.forEach((element, index) &#x3D;&gt; {
      element[&#x27;check&#x27;] &#x3D; false;
    });
    this.collectedRecord &#x3D; [];
    this.resultSelected &#x3D; false;
    this.disableDiv &#x3D; false;
    this.getcustomizeList(10, 0);
  }
  selectAll() {
    //this.collectedRecord &#x3D; [];
    const selected &#x3D; false;
    if (this.collectedRecord.length &#x3D;&#x3D; this.customizeList.length) {
      this.resetSelected();
    } else if (
      this.collectedRecord.length &gt;&#x3D; 0 &amp;&amp;
      this.collectedRecord.length &lt; this.customizeList.length
    ) {
      this.collectedRecord &#x3D; [];
      this.disableDiv &#x3D; true;
      this.customizeList.forEach((element, index) &#x3D;&gt; {
        element[&#x27;check&#x27;] &#x3D; true;
        this.collectedRecord.push(element);
      });
      this.resultSelected &#x3D; true;
    } else {
      this.resetSelected();
    }
    // if(this.customizeList.length){
    //   let selected &#x3D; this.customizeList.find(element&#x3D;&gt; {
    //     return element[&#x27;check&#x27;] &#x3D;&#x3D; false ? true : false;
    //   });
    //   if(!selected){
    //     this.resetSelected();
    //   }else{
    //     this.customizeList.forEach((element,index) &#x3D;&gt; {
    //       element[&#x27;check&#x27;] &#x3D; true;
    //       this.collectedRecord.push(element);
    //     });
    //     this.resultSelected &#x3D; true;
    //   }
    // }
  }
  multiSelect(record, opt, event) {
    if (event.target.checked) {
      this.collectedRecord.push(record);
    } else {
      this.collectedRecord.forEach((element, index) &#x3D;&gt; {
        if (element._id &#x3D;&#x3D; record._id) {
          this.collectedRecord.splice(index, 1);
        }
      });
    }
    if (this.collectedRecord.length &gt; 0) {
      this.resultSelected &#x3D; true;
      this.disableDiv &#x3D; true;
    } else {
      this.resultSelected &#x3D; false;
      this.disableDiv &#x3D; false;
    }

    // let pushRecord &#x3D; [];
    // //this.collectedRecord  &#x3D; [];
    // if(event.target.checked){
    //   this.resultSelected &#x3D; opt;
    //   // this.collectedRecord.forEach(element &#x3D;&gt; {

    //   // });
    //   this.collectedRecord.push(record)
    // }else {
    //   let selecetd &#x3D; false;
    //   this.customizeList.forEach((element,index) &#x3D;&gt; {
    //     if(element._id !&#x3D; record._id){
    //       if(element[&#x27;check&#x27;] &#x3D;&#x3D; true){
    //         pushRecord.push(element)
    //       }
    //     }
    //     if(element._id &#x3D;&#x3D; record._id){
    //       this.collectedRecord.splice(index,1);
    //     }
    //   });

    //   if(pushRecord.length &gt; 0){
    //     this.resultSelected &#x3D; true;
    //   }else {
    //     this.resultSelected &#x3D; false;
    //     this.collectedRecord &#x3D; [];
    //   }
    // }
    // console.log(this.collectedRecord)
  }
  clickCustomizeRecord(record, event?) {
    if (event) {
      event.stopImmediatePropagation();
      event.preventDefault();
    }
    //opt &#x3D;&#x3D; &#x27;default&#x27; ?  this.resultSelected &#x3D; false : this.resultSelected &#x3D; true;
    //this.multiSelect(record,opt)
    this.selectedRecord &#x3D; record;
    const quaryparms: any &#x3D; {
      searchIndexId: this.serachIndexId,
      queryPipelineId: this.queryPipelineId,
      rankingAndPinningId: record._id,
      indexPipelineId: this.workflowService.selectedIndexPipeline() || &#x27;&#x27;,
    };

    this.service.invoke(&#x27;get.customisationLogs&#x27;, quaryparms).subscribe(
      (res) &#x3D;&gt; {
        //this.customizeList &#x3D; res;
        this.lastModifiedOn &#x3D; res.lMod;
        this.actionLogData &#x3D; JSON.parse(JSON.stringify(res.customizations));
        this.customizedActionLogData &#x3D; [];
        this.actionLogData.forEach((data) &#x3D;&gt; {
          const actLog &#x3D; new ActionLog();
          actLog.selected &#x3D; false;
          actLog.drop &#x3D; false;
          actLog.contentType &#x3D; data.target.contentType;
          actLog.contentId &#x3D; data.target.contentId;
          if (data.target.contentType &#x3D;&#x3D; &#x27;web&#x27;) {
            actLog.icon &#x3D; &#x27;assets/icons/resultranking/copy.svg&#x27;;
            actLog.title &#x3D;
              data.target &amp;&amp;
              data.target.contentInfo &amp;&amp;
              data.target.contentInfo._source
                ? data.target.contentInfo._source.page_title
                : &#x27;&#x27;;
            actLog.desc &#x3D;
              data.target &amp;&amp;
              data.target.contentInfo &amp;&amp;
              data.target.contentInfo._source
                ? data.target.contentInfo._source.page_preview
                : &#x27;&#x27;;
          }
          if (data.target.contentType &#x3D;&#x3D; &#x27;faq&#x27;) {
            actLog.icon &#x3D; &#x27;assets/icons/resultranking/faq.svg&#x27;;
            actLog.title &#x3D;
              data.target &amp;&amp;
              data.target.contentInfo &amp;&amp;
              data.target.contentInfo._source
                ? data.target.contentInfo._source.faq_question
                : &#x27;&#x27;;
            actLog.desc &#x3D;
              data.target &amp;&amp;
              data.target.contentInfo &amp;&amp;
              data.target.contentInfo._source &amp;&amp;
              data.target.contentInfo._source.faq_answer[0].text
                ? data.target.contentInfo._source.faq_answer[0].text
                : &#x27;&#x27;;
          }
          if (data.target.contentType &#x3D;&#x3D; &#x27;task&#x27;) {
            actLog.icon &#x3D; &#x27;assets/icons/resultranking/task.svg&#x27;;
            actLog.title &#x3D;
              data.target &amp;&amp; data.target.contentInfo
                ? data.target.contentInfo.lname
                : &#x27;&#x27;;
            actLog.desc &#x3D;
              data.target &amp;&amp; data.target.contentInfo
                ? data.target.contentInfo.shortDesc
                : &#x27;&#x27;;
          }
          if (data.target.contentType &#x3D;&#x3D; &#x27;file&#x27;) {
            actLog.icon &#x3D; &#x27;assets/icons/resultranking/file-icon.svg&#x27;;
            actLog.title &#x3D;
              data.target &amp;&amp;
              data.target.contentInfo &amp;&amp;
              data.target.contentInfo._source
                ? data.target.contentInfo._source.file_title
                : &#x27;&#x27;;
            actLog.desc &#x3D;
              data.target &amp;&amp;
              data.target.contentInfo &amp;&amp;
              data.target.contentInfo._source
                ? data.target.contentInfo._source.file_preview
                : &#x27;&#x27;;
          }
          if (data.target.contentType &#x3D;&#x3D; &#x27;data&#x27;) {
            actLog.icon &#x3D; &#x27;assets/icons/resultranking/data-icon.svg&#x27;;
            if (
              data.target &amp;&amp;
              data.target.contentInfo &amp;&amp;
              data.target.contentInfo._source
            ) {
              actLog.title &#x3D;
                data.target.contentInfo._source[this.strucDataHeading];
              actLog.desc &#x3D; data.target.contentInfo._source[this.strucDataDec];
            }
          }
          // Connectors Key Words
          if (data.target.contentType &#x3D;&#x3D; &#x27;serviceNow&#x27;) {
            actLog.icon &#x3D; &#x27;assets/icons/resultranking/data-icon.svg&#x27;;
            actLog.title &#x3D;
              data.target &amp;&amp;
              data.target.contentInfo &amp;&amp;
              data.target.contentInfo._source
                ? data.target.contentInfo._source.serviceNow_short_description
                : &#x27;&#x27;;
            actLog.desc &#x3D;
              data.target &amp;&amp;
              data.target.contentInfo &amp;&amp;
              data.target.contentInfo._source
                ? data.target.contentInfo._source.serviceNow_text
                : &#x27;&#x27;;
          }
          if (data.target.contentType &#x3D;&#x3D; &#x27;confluenceCloud&#x27;) {
            actLog.icon &#x3D; &#x27;assets/icons/resultranking/data-icon.svg&#x27;;
            actLog.title &#x3D;
              data.target &amp;&amp;
              data.target.contentInfo &amp;&amp;
              data.target.contentInfo._source
                ? data.target.contentInfo._source.confluenceCloud_name
                : &#x27;&#x27;;
            actLog.desc &#x3D;
              data.target &amp;&amp;
              data.target.contentInfo &amp;&amp;
              data.target.contentInfo._source
                ? data.target.contentInfo._source.confluenceCloud_content
                : &#x27;&#x27;;
          }
          if (data.target.contentType &#x3D;&#x3D; &#x27;confluenceServer&#x27;) {
            actLog.icon &#x3D; &#x27;assets/icons/resultranking/data-icon.svg&#x27;;
            actLog.title &#x3D;
              data.target &amp;&amp;
              data.target.contentInfo &amp;&amp;
              data.target.contentInfo._source
                ? data.target.contentInfo._source.confluenceServer_name
                : &#x27;&#x27;;
            actLog.desc &#x3D;
              data.target &amp;&amp;
              data.target.contentInfo &amp;&amp;
              data.target.contentInfo._source
                ? data.target.contentInfo._source.confluenceServer_content
                : &#x27;&#x27;;
          }
          if (data.target.contentType &#x3D;&#x3D; &#x27;zendesk&#x27;) {
            actLog.icon &#x3D; &#x27;assets/icons/resultranking/data-icon.svg&#x27;;
            actLog.title &#x3D;
              data.target &amp;&amp;
              data.target.contentInfo &amp;&amp;
              data.target.contentInfo._source
                ? data.target.contentInfo._source.zendesk_name
                : &#x27;&#x27;;
            actLog.desc &#x3D;
              data.target &amp;&amp;
              data.target.contentInfo &amp;&amp;
              data.target.contentInfo._source
                ? data.target.contentInfo._source.zendesk_content
                : &#x27;&#x27;;
          }
          if (data.target.contentType &#x3D;&#x3D; &#x27;googleDrive&#x27;) {
            actLog.icon &#x3D; &#x27;assets/icons/resultranking/data-icon.svg&#x27;;
            actLog.title &#x3D;
              data.target &amp;&amp;
              data.target.contentInfo &amp;&amp;
              data.target.contentInfo._source
                ? data.target.contentInfo._source.name
                : &#x27;&#x27;;
            actLog.desc &#x3D;
              data.target &amp;&amp;
              data.target.contentInfo &amp;&amp;
              data.target.contentInfo._source
                ? data.target.contentInfo._source.content
                : &#x27;&#x27;;
          }
          // Connectors Key Words
          actLog.action &#x3D; data.customization.action;
          if (data.customization.action &#x3D;&#x3D; &#x27;pinned&#x27;) {
            actLog.actionIcon &#x3D; &#x27;assets/icons/resultranking/pined.svg&#x27;;
            //actLog.actionDesc
          }
          if (data.customization.action &#x3D;&#x3D; &#x27;hidden&#x27;) {
            actLog.actionIcon &#x3D; &#x27;assets/icons/resultranking/Unsee.svg&#x27;;
            //actLog.actionDesc
          }
          if (data.customization.action &#x3D;&#x3D; &#x27;lowered&#x27;) {
            actLog.actionIcon &#x3D; &#x27;assets/icons/resultranking/MoveUp.svg&#x27;;
            //actLog.actionDesc
          }
          if (data.customization.action &#x3D;&#x3D; &#x27;boosted&#x27;) {
            actLog.actionIcon &#x3D; &#x27;assets/icons/resultranking/MoveUp.svg&#x27;;
            //actLog.actionDesc
          }
          actLog.value &#x3D; data.customization.value;
          actLog.addedResult &#x3D; data.target.addedResult;
          actLog.lMod &#x3D; moment(data.customization.lMod).fromNow();
          if (data.logs) {
            actLog.createdOn &#x3D; moment(data.createdOn).fromNow();
          }
          this.customizedActionLogData.push(actLog);
        });
        console.log(this.customizedActionLogData);
        this.timeLog(record);
      },
      (errRes) &#x3D;&gt; {
        if (
          errRes &amp;&amp;
          errRes.error.errors &amp;&amp;
          errRes.error.errors.length &amp;&amp;
          errRes.error.errors[0] &amp;&amp;
          errRes.error.errors[0].msg
        ) {
          this.notificationService.notify(errRes.error.errors[0].msg, &#x27;error&#x27;);
        } else {
          this.notificationService.notify(&#x27;Failed&#x27;, &#x27;error&#x27;);
        }
      }
    );
  }
  removeRecord(actLog) {
    const searchIndex &#x3D; this.serachIndexId;
    const quaryparms: any &#x3D; {
      searchIndexId: searchIndex,
      queryPipelineId: this.queryPipelineId,
      rankingAndPinningId: this.selectedRecord._id,
      contentId: actLog?.contentId,
      indexPipelineId: this.workflowService.selectedIndexPipeline() || &#x27;&#x27;,
    };
    this.remove_Record(quaryparms);
  }
  remove_Record(quaryparms) {
    // const searchIndex &#x3D; this.serachIndexId;
    // const quaryparms: any &#x3D; {
    //   searchIndexId: searchIndex,
    //   queryPipelineId: this.queryPipelineId
    // };
    // let result: any &#x3D; [];
    // var obj: any &#x3D; {};
    // obj.config &#x3D; {};
    // obj.contentType &#x3D; actLog.target.contentType;
    // //obj.contentType &#x3D; contentTaskFlag ? contentType : element._source.contentType ;
    // obj.contentId &#x3D; actLog.target.contentId;
    // if (actLog.customization.action &#x3D;&#x3D; &#x27;pinned&#x27;) obj.config[&#x27;pinIndex&#x27;] &#x3D; -1;
    // if (actLog.customization.action &#x3D;&#x3D; &#x27;boosted&#x27; || actLog.customization.action &#x3D;&#x3D; &#x27;burried&#x27;) obj.config[&#x27;boost&#x27;] &#x3D; 1;
    // if (actLog.customization.action &#x3D;&#x3D; &#x27;hidden&#x27;) obj.config[&#x27;hidden&#x27;] &#x3D; true;
    // // obj.config &#x3D; {
    // //    pinIndex : -1,
    // //   //boost: 1.0,
    // //   //visible: true,
    // //burried
    // // }
    // result.push(obj);

    // let payload: any &#x3D; {};
    const dialogRef &#x3D; this.dialog.open(ConfirmationDialogComponent, {
      width: &#x27;530px&#x27;,
      height: &#x27;auto&#x27;,
      panelClass: &#x27;delete-popup&#x27;,
      data: {
        title: &#x27;Restore Customization&#x27;,
        text: &#x27;Are you sure you want to Restore&#x27;,
        newTitle: &#x27;Are you sure you want to remove?&#x27;,
        body: &#x27;Selected customization done for this query will be removed.&#x27;,
        buttons: [
          { key: &#x27;yes&#x27;, label: &#x27;Remove&#x27;, type: &#x27;danger&#x27;, class: &#x27;deleteBtn&#x27; },
          { key: &#x27;no&#x27;, label: &#x27;Cancel&#x27; },
        ],
        confirmationPopUp: true,
      },
    });
    dialogRef.componentInstance.onSelect.subscribe((result) &#x3D;&gt; {
      if (result &#x3D;&#x3D;&#x3D; &#x27;yes&#x27;) {
        this.service.invoke(&#x27;delete.CustomizatioLog&#x27;, quaryparms).subscribe(
          (res) &#x3D;&gt; {
            dialogRef.close();
            this.notificationService.notify(&#x27;Removed Successfully&#x27;, &#x27;success&#x27;);
            this.getcustomizeList(10, 0);
            this.actionLogData &#x3D; [];
            this.customizeList &#x3D; [];
            //console.log(res);
          },
          (errRes) &#x3D;&gt; {
            if (
              errRes &amp;&amp;
              errRes.error.errors &amp;&amp;
              errRes.error.errors.length &amp;&amp;
              errRes.error.errors[0] &amp;&amp;
              errRes.error.errors[0].msg
            ) {
              this.notificationService.notify(
                errRes.error.errors[0].msg,
                &#x27;error&#x27;
              );
            } else {
              this.notificationService.notify(&#x27;Failed remove record&#x27;, &#x27;error&#x27;);
            }
          }
        );
      } else if (result &#x3D;&#x3D;&#x3D; &#x27;no&#x27;) {
        dialogRef.close();
      }
    });
  }

  applyFilter(value) {
    const list &#x3D; [...this.customizeListBack];
    const listPush &#x3D; [];
    if (value) {
      list.forEach((element) &#x3D;&gt; {
        if (element.searchQuery.includes(value)) {
          listPush.push(element);
        }
      });
      this.customizeList &#x3D; [...listPush];
    } else {
      //listPush &#x3D; [...list]
      this.customizeList &#x3D; [...this.customizeListBack];
    }
  }
  timeLog(record) {
    // this.selectedRecord &#x3D; record;
    const quaryparms: any &#x3D; {
      searchIndexId: this.serachIndexId,
      queryPipelineId: this.queryPipelineId,
      rankingAndPinningId: record._id,
    };
    // this.time &#x3D;moment(&quot;2020-10-28T05:27:49.499Z&quot;).fromNow()
    // const displayTime&#x3D;document.getElementById(&#x27;displayTime&#x27;)
    // displayTime.append(&#x27;time&#x27;)
    this.service.invoke(&#x27;get.rankingActionLog&#x27;, quaryparms).subscribe(
      (res) &#x3D;&gt; {
        this.customizeLog &#x3D; res;
        for (let i &#x3D; 0; i &lt; this.customizeLog.length; i++) {
          const time &#x3D; this.customizeLog[i].createdOn;
          this.customizeLog[i].createdOn &#x3D; moment(time).fromNow();
          this.customizeLog[i][&#x27;selected&#x27;] &#x3D; false;
          if (this.customizeLog[i].target.contentType &#x3D;&#x3D; &#x27;data&#x27;) {
            if (
              this.customizeLog[i].target.contentInfo &amp;&amp;
              this.customizeLog[i].target.contentInfo._source
            ) {
              this.customizeLog[i].target.contentInfo._source[
                &#x27;strucDataHeadingDis&#x27;
              ] &#x3D;
                this.customizeLog[i].target.contentInfo._source[
                  this.strucDataHeading
                ];
              this.customizeLog[i].target.contentInfo._source[
                &#x27;strucDataDecDis&#x27;
              ] &#x3D;
                this.customizeLog[i].target.contentInfo._source[
                  this.strucDataDec
                ];
            }
          }
        }
      },
      (errRes) &#x3D;&gt; {
        if (
          errRes &amp;&amp;
          errRes.error.errors &amp;&amp;
          errRes.error.errors.length &amp;&amp;
          errRes.error.errors[0] &amp;&amp;
          errRes.error.errors[0].msg
        ) {
          this.notificationService.notify(errRes.error.errors[0].msg, &#x27;error&#x27;);
        } else {
          this.notificationService.notify(&#x27;Failed&#x27;, &#x27;error&#x27;);
        }
      }
    );
  }

  restore(record) {
    const quaryparms: any &#x3D; {
      searchIndexId: this.serachIndexId,
      queryPipelineId: this.queryPipelineId,
      rankingAndPinningId: record._id,
      indexPipelineId: this.workflowService.selectedIndexPipeline() || &#x27;&#x27;,
    };
    const dialogRef &#x3D; this.dialog.open(ConfirmationDialogComponent, {
      width: &#x27;530px&#x27;,
      height: &#x27;auto&#x27;,
      panelClass: &#x27;delete-popup&#x27;,
      data: {
        newTitle: &#x27;Are you sure you want to reset?&#x27;,
        body: &#x27;All the customizations done for this query will be removed.&#x27;,
        buttons: [
          { key: &#x27;yes&#x27;, label: &#x27;Reset&#x27;, type: &#x27;danger&#x27;, class: &#x27;deleteBtn&#x27; },
          { key: &#x27;no&#x27;, label: &#x27;Cancel&#x27; },
        ],
        confirmationPopUp: true,
      },
    });
    dialogRef.componentInstance.onSelect.subscribe((result) &#x3D;&gt; {
      if (result &#x3D;&#x3D;&#x3D; &#x27;yes&#x27;) {
        this.service.invoke(&#x27;put.restoreQueryCustomize&#x27;, quaryparms).subscribe(
          (res) &#x3D;&gt; {
            //this.customizeList &#x3D; res;
            this.selectedRecord &#x3D; {};
            this.getcustomizeList(10, 0);
            this.actionLogData &#x3D; [];
            this.customizeList &#x3D; [];
            this.notificationService.notify(&#x27;Reset Successful&#x27;, &#x27;success&#x27;);
            dialogRef.close();
          },
          (errRes) &#x3D;&gt; {
            if (
              errRes &amp;&amp;
              errRes.error.errors &amp;&amp;
              errRes.error.errors.length &amp;&amp;
              errRes.error.errors[0] &amp;&amp;
              errRes.error.errors[0].msg
            ) {
              this.notificationService.notify(
                errRes.error.errors[0].msg,
                &#x27;error&#x27;
              );
            } else {
              this.notificationService.notify(&#x27;Failed&#x27;, &#x27;error&#x27;);
            }
          }
        );
      } else if (result &#x3D;&#x3D;&#x3D; &#x27;no&#x27;) {
        dialogRef.close();
      }
    });
  }
  getcustomizeList(limit?, skip?) {
    limit ? limit : 10;
    skip ? skip : 0;
    const quaryparms: any &#x3D; {
      searchIndexId: this.serachIndexId,
      queryPipelineId: this.queryPipelineId,
      indexPipelineId: this.workflowService.selectedIndexPipeline() || &#x27;&#x27;,
      limit: limit,
      skip: skip,
    };
    this.service.invoke(&#x27;get.queryCustomizeList&#x27;, quaryparms).subscribe(
      (res) &#x3D;&gt; {
        this.loadingContent &#x3D; false;
        this.customizeList &#x3D; res.data;
        if (res.data.length &gt; 0) {
          this.nextPage &#x3D; true;
          this.loadingContent &#x3D; false;
          this.headerService.fromResultRank(false);
        } else {
          this.nextPage &#x3D; false;
          this.loadingContent &#x3D; false;
          this.headerService.fromResultRank(true);
        }
        this.customizeListBack &#x3D; [...res.data];
        this.totalRecord &#x3D; res.total || res.data.length;
        if (this.selectedRecord._id) {
          this.customizeList.forEach((element, index) &#x3D;&gt; {
            if (this.selectedRecord._id &#x3D;&#x3D; element._id) {
              element[&#x27;check&#x27;] &#x3D; false;
              this.clickCustomizeRecord(element);
            }
          });
        } else {
          this.customizeList.forEach((element, index) &#x3D;&gt; {
            element[&#x27;check&#x27;] &#x3D; false;
            if (index &#x3D;&#x3D; 0) {
              this.clickCustomizeRecord(element);
            }
          });
        }
        if (!this.customizeList.length) {
          this.selectedRecord &#x3D; {};
          this.customizeLog &#x3D; [];
          this.actionLogData &#x3D; [];
        }
        if (res.data.length &gt; 0) {
          this.loadingContent &#x3D; false;
          this.loadingContent1 &#x3D; true;
        } else {
          this.loadingContent1 &#x3D; true;
          // if(!this.inlineManual.checkVisibility(&#x27;RESULT_RANKING&#x27;)){
          //   this.inlineManual.openHelp(&#x27;RESULT_RANKING&#x27;)
          //   this.inlineManual.visited(&#x27;RESULT_RANKING&#x27;)
          // }
        }
      },
      (errRes) &#x3D;&gt; {
        if (
          errRes &amp;&amp;
          errRes.error.errors &amp;&amp;
          errRes.error.errors.length &amp;&amp;
          errRes.error.errors[0] &amp;&amp;
          errRes.error.errors[0].msg
        ) {
          this.notificationService.notify(errRes.error.errors[0].msg, &#x27;error&#x27;);
        } else {
          this.notificationService.notify(&#x27;Failed &#x27;, &#x27;error&#x27;);
        }
      }
    );
  }
  toggle(icontoggle, selected) {
    const previousIndex &#x3D; this.iconIndex;
    //previousIndex &#x3D;&#x3D; index ? this.icontoggle &#x3D; !icontoggle : this.icontoggle &#x3D; icontoggle;
    this.icontoggle &#x3D; !icontoggle;
    // this.iconIndex  &#x3D; index;
    //this.mocData[index].selected &#x3D; !selected;
    // this.actionLogData[index].selected &#x3D; !selected;
  }
  toggleAction(actiontoggle, index, selected) {
    //this.actionToggle &#x3D; !actiontoggle;
    this.actionIndex &#x3D; index;
    // this.mocData[index].drop &#x3D; !selected;
    this.actionLogData[index].drop &#x3D; !selected;
  }
  toggleLogAction(index, selected) {
    this.customizeLog[index].selected &#x3D; !selected;
  }
  closeLogs() {
    this.resultLogs &#x3D; false;
  }
  focusoutSearch() {
    if (this.activeClose) {
      this.searchSources &#x3D; &#x27;&#x27;;
      this.activeClose &#x3D; false;
    }
    this.showSearch &#x3D; !this.showSearch;
  }
  focusinSearch(inputSearch) {
    $(&#x27;#inputSearch&#x27;).focus();
    setTimeout(() &#x3D;&gt; {
      document.getElementById(inputSearch).focus();
      $(&#x27;#inputSearch&#x27;).focus();
    }, 500);
  }
  ngOnDestroy() {
    this.subscription ? this.subscription.unsubscribe() : false;
  }
  openUserMetaTagsSlider() {
    this.appSelectionService.topicGuideShow.next(undefined);
  }
}

class ActionLog {
  selected &#x3D; false;
  drop &#x3D; false;
  contentType &#x3D; &#x27;&#x27;;
  icon &#x3D; &#x27;&#x27;;
  title &#x3D; &#x27;&#x27;;
  desc &#x3D; &#x27;&#x27;;
  action &#x3D; &#x27;&#x27;;
  actionIcon &#x3D; &#x27;&#x27;;
  actionDesc &#x3D; &#x27;&#x27;;
  value &#x3D; &#x27;&#x27;;
  addedResult &#x3D; &#x27;&#x27;;
  lMod &#x3D; &#x27;&#x27;;
  createdOn &#x3D; &#x27;&#x27;;
  contentId &#x3D; &#x27;&#x27;;
}
</code></pre>
    </div>
</div>









                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'class';
            var COMPODOC_CURRENT_PAGE_URL = 'ActionLog.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
