<!-- Author : Bharadwaj -->
<div class="indesxConfigSettingsComponent">
    <!-- common main Header -->
    <div class="common_header">
        <div class="title">{{'index_Settings' | translate}}
            <span class="module-topic" tooltipClass="tooltip-global-" [container]="'body'" ngbTooltip='{{"sa_topic_guide" | translate}}' placement="right-center">
                <i id="sa_index_settings_topicguide" class="si-topic-guide-1"></i> <!-- Topic Guide yet to Impiment -->
            </span>
        </div>
    </div>
    <!-- common main Header end-->

    <!-- index config settings body start from here -->
    <div class="index-config-settings-body">
        <div class="body-header">
            <div class="body-header-block">
                <div class="body-header-tag">{{"index_Settings_index_languages" | translate}}</div>
                <div class="body-header-desc">{{"index_Settings_multilangual_support_desc" | translate}}</div>
            </div>
            <div id="sa_index_settings_add_language" [ngClass]="getTrainIsInprogress()||isTrainStatusInprogress?'disable-add-btn':''" id="sa_open_add_langauge" class="body-header-link-btn" (click)="openModalPopup()">
                <span class="icon-add-span"><i class="si-add-plus icon-add"></i></span>
                {{"index_Settings_add_language" | translate}}
            </div>
        </div>
        <div class="index-config-lang-table row m-0">
            <div class="table_data_content col-6">
                <div class="table_header row m-0">
                    <div class="col_ col-8 pl-2 title d-flex align-items-center justify-content-start">{{"index_Settings_language" | translate}}</div>
                    <div class="col_ col-1 title d-flex align-items-center justify-content-start"> {{"index_Settings_code" | translate}} </div>
                </div>
             <!-- List of Languages starts  -->
                <perfect-scrollbar class="table_body_content">
                    <div *ngFor="let list of supportedLanguages;let i = index" class="table_body row m-0">
                                <div class="col-8 pl-2 title text-left p-0">  {{list?.language}} </div>
                                <div class="col-1 title text-left p-0"> {{list?.languageCode}}  </div>
                                <div class="col-1">
                                    <div *ngIf="i>0" class="action_links text-right">
                                        <!-- <span class="action_link-icon"> <i class="si-pencil-edit"  (click)="editLanguages(i)"></i> </span> -->
                                        <span [ngClass]="getTrainIsInprogress()||isTrainStatusInprogress?'disable-add-btn':''" id="sa_index_settings_delete{{i}}" class="action_link-icon ml-3"> <i ngbTooltip="{{'sa_delete' | translate}}" class="si-delete1" (click)="i===0?null:deleteLanguagesPop($event,list)"></i> </span>
                                    </div>
                                </div>
                    </div>
                </perfect-scrollbar>
             <!-- List of Languages ends -->
            </div>
        </div>
    </div>
    <!-- index config settings body ends here -->
</div>

<!-- Pop up for the Language configuration starts -->
<kr-modal modalType="center" modalClass="modal_popups_ addLangModalPop addLanguageModalPopup addLanguageModal"
    #addLangModalPop>
    <!-- <app-add-list-popup [list] ="languageList"></app-add-list-popup> -->
    <div class="modal-header">
        <div class="title">{{"index_Settings_add_language" | translate}}</div>
        <div class="close_icon" id="sa_index_settings_close_model_popUp" (click)="closeModalPopup()"><img src="assets/icons/modal-close.svg"></div>
    </div>
    <ng-container>
    <div class="modal-body">
        <!-- Search bar for Languages -->
         <div class="search-field-bar">
             <div class="kr-sg-input-inline-search">                               
                 <input type="text" id="sa_index_settings_search_languages" [(ngModel)]="searchLanguages" placeholder="{{'sa_search' | translate}}" class="input-search">
                    <span *ngIf="searchLanguages" id="sa_index_settings_close_search" class="search-icon close-icon"><i (click)="clearSearch()" class="si-close"></i></span>
                    <span class="search-icon"><i class="si-search"></i></span>                                   
             </div>
         </div>
            <div class="index-config-lang-table">
                <div class="table_data_content">
                    <div class="table_header row m-0">
                        <div class="col_ col-3 title d-flex align-items-center justify-content-start"><div class="d-none">checkbox</div></div>
                        <div class="col_ col-6 title d-flex align-items-center justify-content-start"> {{"index_Settings_language" | translate}} </div>
                        <div class="col_ col-3 title d-flex align-items-center justify-content-start"> {{"index_Settings_code" | translate}} </div>
                    </div>
                    <perfect-scrollbar class="table_body_content">
                        <div *ngFor="let language of languageList | filter : [ searchLanguages, 'language',''];let i = index" class="table_body row m-0">
                            <div class="col-3">
                                <div class="kr-sg-checkbox">
                                    <input [disabled]="language?.languageCode ==='en'" id="sa_index_settings_checkbox{{i}}" class="checkbox-custom" type="checkbox"
                                    [checked]="language?.selected" (click)="language?.code!=='en'?addLanguage(i):null">
                                    <label for="sa_index_settings_checkbox{{i}}" class="checkbox-custom-label"></label>
                                </div>
                            </div>
                            <div class="col-6 title text-left p-0" title="">{{language?.language}} </div>
                            <div class="col-3 title text-left p-0">{{language?.languageCode}} </div>
                        </div>
                    </perfect-scrollbar>
                </div>
            </div>
    </div>
    <div class="modal-footer">
        <div class="modal-footer-with-selected-count">
            <div class="slected-count">
                <span class="slected-count-num">{{getSelectedCount()}}</span> / <span class="slected-count-num">{{languageList?.length}}</span> 
                {{"index_Settings_selected" | translate}}
            </div>
            <div>
                <button [disabled]="isAddLoading" id="sa_index_settings_save_language" type="button" class="kr-sg-button-primary btn_lg float-right" (click)="addLang()"><span class="loader-spin-inside-btn" *ngIf="isAddLoading"></span>{{"sa_save" | translate}}</button>
                <button id="sa_index_settings_cancel_langauge" type="button" class="kr-sg-button-secondary btn_lg float-right" (click)="closeModalPopup()">{{"sa_cancel" | translate}}</button>
            </div>
        </div>          
    </div>
    </ng-container>
</kr-modal>
<!-- Pop up for the Language configuration starts ends -->